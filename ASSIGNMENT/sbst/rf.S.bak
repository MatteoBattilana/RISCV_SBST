.section .data
_STORAGE_POINTER_:
    .space 4*32

.section .text.rf_test
.global _rf_test
.type _rf_test, @function

_rf_test:

    // Storing regs status
    la      t0, _STORAGE_POINTER_
    sw      ra, 0*4(t0)
    sw      sp, 1*4(t0)
    sw      gp, 2*4(t0)
    sw      tp, 3*4(t0)
    sw      s0, 4*4(t0)
    sw      s1, 5*4(t0)
    sw      a0, 6*4(t0)
    sw      a1, 7*4(t0)
    sw      a2, 8*4(t0)
    sw      a3, 9*4(t0)
    sw      a4, 10*4(t0)
    sw      a5, 11*4(t0)
    sw      a6, 12*4(t0)
    sw      a7, 13*4(t0)
    sw      s2, 14*4(t0)
    sw      s3, 15*4(t0)
    sw      s4, 16*4(t0)
    sw      s5, 17*4(t0)
    sw      s6, 18*4(t0)
    sw      s7, 19*4(t0)

    li x1, 0x0000000
    li x2, 0x0000000
    li x3, 0x0000000
    li x4, 0x0000000
    li x5, 0x0000000
    li x6, 0x0000000
    li x7, 0x0000000
    li x8, 0x0000000
    li x9, 0x0000000
    li x10, 0x0000000
    li x11, 0x0000000
    li x12, 0x0000000
    li x13, 0x0000000
    li x14, 0x0000000
    li x15, 0x0000000
    li x16, 0x0000000
    li x17, 0x0000000
    li x18, 0x0000000
    li x19, 0x0000000
    li x20, 0x0000000
    li x21, 0x0000000
    li x22, 0x0000000
    li x23, 0x0000000
    li x24, 0x0000000
    li x25, 0x0000000
    li x26, 0x0000000
    li x27, 0x0000000
    li x28, 0x0000000
    li x29, 0x0000000
    li x30, 0x0000000
    li x31, 0x0000000

    p.mac x1, x1, x1
    not x1, x1

    p.mac x2, x2, x2
    not x2, x2

    p.mac x3, x3, x3
    not x3, x3

    p.mac x4, x4, x4
    not x4, x4

    p.mac x5, x5, x5    
    not x5, x5

    p.mac x6, x6, x6    
    not x6, x6

    p.mac x7, x7, x7    
    not x7, x7

    p.mac x8, x8, x8    
    not x8, x8

    p.mac x9, x9, x9    
    not x9, x9

    p.mac x10, x10, x10    
    not x10, x10

    p.mac x11, x11, x11    
    not x11, x11

    p.mac x12, x12, x12    
    not x12, x12

    p.mac x13, x13, x13    
    not x13, x13

    p.mac x14, x14, x14    
    not x14, x14

    p.mac x15, x15, x15    
    not x15, x15

    p.mac x16, x16, x16    
    not x16, x16

    p.mac x17, x17, x17    
    not x17, x17

    p.mac x18, x18, x18    
    not x18, x18

    p.mac x19, x19, x19    
    not x19, x19

    p.mac x20, x20, x20    
    not x20, x20

    p.mac x21, x21, x21    
    not x21, x21

    p.mac x22, x22, x22    
    not x22, x22

    p.mac x23, x23, x23    
    not x23, x23

    p.mac x24, x24, x24    
    not x24, x24

    p.mac x25, x25, x25    
    not x25, x25

    p.mac x26, x26, x26    
    not x26, x26

    p.mac x27, x27, x27    
    not x27, x27

    p.mac x28, x28, x28    
    not x28, x28

    p.mac x29, x29, x29    
    not x29, x29

    p.mac x30, x30, x30    
    not x30, x30

    p.mac x31, x31, x31    
    not x31, x31


    p.mac x1, x1, x1
    p.mac x2, x2, x2
    p.mac x3, x3, x3
    p.mac x4, x4, x4
    p.mac x5, x5, x5    
    p.mac x6, x6, x6    
    p.mac x7, x7, x7    
    p.mac x8, x8, x8    
    p.mac x9, x9, x9    
    p.mac x10, x10, x10    
    p.mac x11, x11, x11    
    p.mac x12, x12, x12    
    p.mac x13, x13, x13    
    p.mac x14, x14, x14    
    p.mac x15, x15, x15    
    p.mac x16, x16, x16    
    p.mac x17, x17, x17    
    p.mac x18, x18, x18    
    p.mac x19, x19, x19    
    p.mac x20, x20, x20    
    p.mac x21, x21, x21    
    p.mac x22, x22, x22    
    p.mac x23, x23, x23    
    p.mac x24, x24, x24    
    p.mac x25, x25, x25    
    p.mac x26, x26, x26    
    p.mac x27, x27, x27    
    p.mac x28, x28, x28    
    p.mac x30, x30, x30    
    p.mac x31, x31, x31    

    li x1, 0x0000FFFF
    li x2, 0x0000FFFF
    li x3, 0x0000FFFF
    li x4, 0x0000FFFF
    li x5, 0x0000FFFF
    li x6, 0x0000FFFF
    li x7, 0x0000FFFF
    li x8, 0x0000FFFF
    li x9, 0x0000FFFF
    li x10, 0x0000FFFF
    li x11, 0x0000FFFF
    li x12, 0x0000FFFF
    li x13, 0x0000FFFF
    li x14, 0x0000FFFF
    li x15, 0x0000FFFF
    li x16, 0x0000FFFF
    li x17, 0x0000FFFF
    li x18, 0x0000FFFF
    li x19, 0x0000FFFF
    li x20, 0x0000FFFF
    li x21, 0x0000FFFF
    li x22, 0x0000FFFF
    li x23, 0x0000FFFF
    li x24, 0x0000FFFF
    li x25, 0x0000FFFF
    li x26, 0x0000FFFF
    li x27, 0x0000FFFF
    li x28, 0x0000FFFF
    li x29, 0x0000FFFF
    li x30, 0x0000FFFF
    li x31, 0x0000FFFF

    p.mac x1, x1, x1
    not x1, x1

    p.mac x2, x2, x2
    not x2, x2

    p.mac x3, x3, x3
    not x3, x3

    p.mac x4, x4, x4
    not x4, x4

    p.mac x5, x5, x5    
    not x5, x5

    p.mac x6, x6, x6    
    not x6, x6

    p.mac x7, x7, x7    
    not x7, x7

    p.mac x8, x8, x8    
    not x8, x8

    p.mac x9, x9, x9    
    not x9, x9

    p.mac x10, x10, x10    
    not x10, x10

    p.mac x11, x11, x11    
    not x11, x11

    p.mac x12, x12, x12    
    not x12, x12

    p.mac x13, x13, x13    
    not x13, x13

    p.mac x14, x14, x14    
    not x14, x14

    p.mac x15, x15, x15    
    not x15, x15

    p.mac x16, x16, x16    
    not x16, x16

    p.mac x17, x17, x17    
    not x17, x17

    p.mac x18, x18, x18    
    not x18, x18

    p.mac x19, x19, x19    
    not x19, x19

    p.mac x20, x20, x20    
    not x20, x20

    p.mac x21, x21, x21    
    not x21, x21

    p.mac x22, x22, x22    
    not x22, x22

    p.mac x23, x23, x23    
    not x23, x23

    p.mac x24, x24, x24    
    not x24, x24

    p.mac x25, x25, x25    
    not x25, x25

    p.mac x26, x26, x26    
    not x26, x26

    p.mac x27, x27, x27    
    not x27, x27

    p.mac x28, x28, x28    
    not x28, x28

    p.mac x29, x29, x29    
    not x29, x29

    p.mac x30, x30, x30    
    not x30, x30

    p.mac x31, x31, x31    
    not x31, x31


    p.mac x1, x1, x1
    p.mac x2, x2, x2
    p.mac x3, x3, x3
    p.mac x4, x4, x4
    p.mac x5, x5, x5    
    p.mac x6, x6, x6    
    p.mac x7, x7, x7    
    p.mac x8, x8, x8    
    p.mac x9, x9, x9    
    p.mac x10, x10, x10    
    p.mac x11, x11, x11    
    p.mac x12, x12, x12    
    p.mac x13, x13, x13    
    p.mac x14, x14, x14    
    p.mac x15, x15, x15    
    p.mac x16, x16, x16    
    p.mac x17, x17, x17    
    p.mac x18, x18, x18    
    p.mac x19, x19, x19    
    p.mac x20, x20, x20    
    p.mac x21, x21, x21    
    p.mac x22, x22, x22    
    p.mac x23, x23, x23    
    p.mac x24, x24, x24    
    p.mac x25, x25, x25    
    p.mac x26, x26, x26    
    p.mac x27, x27, x27    
    p.mac x28, x28, x28    
    p.mac x30, x30, x30    
    p.mac x31, x31, x31    

    li x1, 0x00FF00FF
    li x2, 0x00FF00FF
    li x3, 0x00FF00FF
    li x4, 0x00FF00FF
    li x5, 0x00FF00FF
    li x6, 0x00FF00FF
    li x7, 0x00FF00FF
    li x8, 0x00FF00FF
    li x9, 0x00FF00FF
    li x10, 0x00FF00FF
    li x11, 0x00FF00FF
    li x12, 0x00FF00FF
    li x13, 0x00FF00FF
    li x14, 0x00FF00FF
    li x15, 0x00FF00FF
    li x16, 0x00FF00FF
    li x17, 0x00FF00FF
    li x18, 0x00FF00FF
    li x19, 0x00FF00FF
    li x20, 0x00FF00FF
    li x21, 0x00FF00FF
    li x22, 0x00FF00FF
    li x23, 0x00FF00FF
    li x24, 0x00FF00FF
    li x25, 0x00FF00FF
    li x26, 0x00FF00FF
    li x27, 0x00FF00FF
    li x28, 0x00FF00FF
    li x29, 0x00FF00FF
    li x30, 0x00FF00FF
    li x31, 0x00FF00FF

    p.mac x1, x1, x1
    not x1, x1

    p.mac x2, x2, x2
    not x2, x2

    p.mac x3, x3, x3
    not x3, x3

    p.mac x4, x4, x4
    not x4, x4

    p.mac x5, x5, x5    
    not x5, x5

    p.mac x6, x6, x6    
    not x6, x6

    p.mac x7, x7, x7    
    not x7, x7

    p.mac x8, x8, x8    
    not x8, x8

    p.mac x9, x9, x9    
    not x9, x9

    p.mac x10, x10, x10    
    not x10, x10

    p.mac x11, x11, x11    
    not x11, x11

    p.mac x12, x12, x12    
    not x12, x12

    p.mac x13, x13, x13    
    not x13, x13

    p.mac x14, x14, x14    
    not x14, x14

    p.mac x15, x15, x15    
    not x15, x15

    p.mac x16, x16, x16    
    not x16, x16

    p.mac x17, x17, x17    
    not x17, x17

    p.mac x18, x18, x18    
    not x18, x18

    p.mac x19, x19, x19    
    not x19, x19

    p.mac x20, x20, x20    
    not x20, x20

    p.mac x21, x21, x21    
    not x21, x21

    p.mac x22, x22, x22    
    not x22, x22

    p.mac x23, x23, x23    
    not x23, x23

    p.mac x24, x24, x24    
    not x24, x24

    p.mac x25, x25, x25    
    not x25, x25

    p.mac x26, x26, x26    
    not x26, x26

    p.mac x27, x27, x27    
    not x27, x27

    p.mac x28, x28, x28    
    not x28, x28

    p.mac x29, x29, x29    
    not x29, x29

    p.mac x30, x30, x30    
    not x30, x30

    p.mac x31, x31, x31    
    not x31, x31


    p.mac x1, x1, x1
    p.mac x2, x2, x2
    p.mac x3, x3, x3
    p.mac x4, x4, x4
    p.mac x5, x5, x5    
    p.mac x6, x6, x6    
    p.mac x7, x7, x7    
    p.mac x8, x8, x8    
    p.mac x9, x9, x9    
    p.mac x10, x10, x10    
    p.mac x11, x11, x11    
    p.mac x12, x12, x12    
    p.mac x13, x13, x13    
    p.mac x14, x14, x14    
    p.mac x15, x15, x15    
    p.mac x16, x16, x16    
    p.mac x17, x17, x17    
    p.mac x18, x18, x18    
    p.mac x19, x19, x19    
    p.mac x20, x20, x20    
    p.mac x21, x21, x21    
    p.mac x22, x22, x22    
    p.mac x23, x23, x23    
    p.mac x24, x24, x24    
    p.mac x25, x25, x25    
    p.mac x26, x26, x26    
    p.mac x27, x27, x27    
    p.mac x28, x28, x28    
    p.mac x30, x30, x30    
    p.mac x31, x31, x31    

    li x1, 0x33333333
    li x2, 0x33333333
    li x3, 0x33333333
    li x4, 0x33333333
    li x5, 0x33333333
    li x6, 0x33333333
    li x7, 0x33333333
    li x8, 0x33333333
    li x9, 0x33333333
    li x10, 0x33333333
    li x11, 0x33333333
    li x12, 0x33333333
    li x13, 0x33333333
    li x14, 0x33333333
    li x15, 0x33333333
    li x16, 0x33333333
    li x17, 0x33333333
    li x18, 0x33333333
    li x19, 0x33333333
    li x20, 0x33333333
    li x21, 0x33333333
    li x22, 0x33333333
    li x23, 0x33333333
    li x24, 0x33333333
    li x25, 0x33333333
    li x26, 0x33333333
    li x27, 0x33333333
    li x28, 0x33333333
    li x29, 0x33333333
    li x30, 0x33333333
    li x31, 0x33333333

    p.mac x1, x1, x1
    not x1, x1

    p.mac x2, x2, x2
    not x2, x2

    p.mac x3, x3, x3
    not x3, x3

    p.mac x4, x4, x4
    not x4, x4

    p.mac x5, x5, x5    
    not x5, x5

    p.mac x6, x6, x6    
    not x6, x6

    p.mac x7, x7, x7    
    not x7, x7

    p.mac x8, x8, x8    
    not x8, x8

    p.mac x9, x9, x9    
    not x9, x9

    p.mac x10, x10, x10    
    not x10, x10

    p.mac x11, x11, x11    
    not x11, x11

    p.mac x12, x12, x12    
    not x12, x12

    p.mac x13, x13, x13    
    not x13, x13

    p.mac x14, x14, x14    
    not x14, x14

    p.mac x15, x15, x15    
    not x15, x15

    p.mac x16, x16, x16    
    not x16, x16

    p.mac x17, x17, x17    
    not x17, x17

    p.mac x18, x18, x18    
    not x18, x18

    p.mac x19, x19, x19    
    not x19, x19

    p.mac x20, x20, x20    
    not x20, x20

    p.mac x21, x21, x21    
    not x21, x21

    p.mac x22, x22, x22    
    not x22, x22

    p.mac x23, x23, x23    
    not x23, x23

    p.mac x24, x24, x24    
    not x24, x24

    p.mac x25, x25, x25    
    not x25, x25

    p.mac x26, x26, x26    
    not x26, x26

    p.mac x27, x27, x27    
    not x27, x27

    p.mac x28, x28, x28    
    not x28, x28

    p.mac x29, x29, x29    
    not x29, x29

    p.mac x30, x30, x30    
    not x30, x30

    p.mac x31, x31, x31    
    not x31, x31


    p.mac x1, x1, x1
    p.mac x2, x2, x2
    p.mac x3, x3, x3
    p.mac x4, x4, x4
    p.mac x5, x5, x5    
    p.mac x6, x6, x6    
    p.mac x7, x7, x7    
    p.mac x8, x8, x8    
    p.mac x9, x9, x9    
    p.mac x10, x10, x10    
    p.mac x11, x11, x11    
    p.mac x12, x12, x12    
    p.mac x13, x13, x13    
    p.mac x14, x14, x14    
    p.mac x15, x15, x15    
    p.mac x16, x16, x16    
    p.mac x17, x17, x17    
    p.mac x18, x18, x18    
    p.mac x19, x19, x19    
    p.mac x20, x20, x20    
    p.mac x21, x21, x21    
    p.mac x22, x22, x22    
    p.mac x23, x23, x23    
    p.mac x24, x24, x24    
    p.mac x25, x25, x25    
    p.mac x26, x26, x26    
    p.mac x27, x27, x27    
    p.mac x28, x28, x28    
    p.mac x30, x30, x30    
    p.mac x31, x31, x31    

    li x1, 0x55555555
    li x2, 0x55555555
    li x3, 0x55555555
    li x4, 0x55555555
    li x5, 0x55555555
    li x6, 0x55555555
    li x7, 0x55555555
    li x8, 0x55555555
    li x9, 0x55555555
    li x10, 0x55555555
    li x11, 0x55555555
    li x12, 0x55555555
    li x13, 0x55555555
    li x14, 0x55555555
    li x15, 0x55555555
    li x16, 0x55555555
    li x17, 0x55555555
    li x18, 0x55555555
    li x19, 0x55555555
    li x20, 0x55555555
    li x21, 0x55555555
    li x22, 0x55555555
    li x23, 0x55555555
    li x24, 0x55555555
    li x25, 0x55555555
    li x26, 0x55555555
    li x27, 0x55555555
    li x28, 0x55555555
    li x29, 0x55555555
    li x30, 0x55555555
    li x31, 0x55555555

    p.mac x1, x1, x1
    not x1, x1

    p.mac x2, x2, x2
    not x2, x2

    p.mac x3, x3, x3
    not x3, x3

    p.mac x4, x4, x4
    not x4, x4

    p.mac x5, x5, x5    
    not x5, x5

    p.mac x6, x6, x6    
    not x6, x6

    p.mac x7, x7, x7    
    not x7, x7

    p.mac x8, x8, x8    
    not x8, x8

    p.mac x9, x9, x9    
    not x9, x9

    p.mac x10, x10, x10    
    not x10, x10

    p.mac x11, x11, x11    
    not x11, x11

    p.mac x12, x12, x12    
    not x12, x12

    p.mac x13, x13, x13    
    not x13, x13

    p.mac x14, x14, x14    
    not x14, x14

    p.mac x15, x15, x15    
    not x15, x15

    p.mac x16, x16, x16    
    not x16, x16

    p.mac x17, x17, x17    
    not x17, x17

    p.mac x18, x18, x18    
    not x18, x18

    p.mac x19, x19, x19    
    not x19, x19

    p.mac x20, x20, x20    
    not x20, x20

    p.mac x21, x21, x21    
    not x21, x21

    p.mac x22, x22, x22    
    not x22, x22

    p.mac x23, x23, x23    
    not x23, x23

    p.mac x24, x24, x24    
    not x24, x24

    p.mac x25, x25, x25    
    not x25, x25

    p.mac x26, x26, x26    
    not x26, x26

    p.mac x27, x27, x27    
    not x27, x27

    p.mac x28, x28, x28    
    not x28, x28

    p.mac x29, x29, x29    
    not x29, x29

    p.mac x30, x30, x30    
    not x30, x30

    p.mac x31, x31, x31    
    not x31, x31


    p.mac x1, x1, x1
    p.mac x2, x2, x2
    p.mac x3, x3, x3
    p.mac x4, x4, x4
    p.mac x5, x5, x5    
    p.mac x6, x6, x6    
    p.mac x7, x7, x7    
    p.mac x8, x8, x8    
    p.mac x9, x9, x9    
    p.mac x10, x10, x10    
    p.mac x11, x11, x11    
    p.mac x12, x12, x12    
    p.mac x13, x13, x13    
    p.mac x14, x14, x14    
    p.mac x15, x15, x15    
    p.mac x16, x16, x16    
    p.mac x17, x17, x17    
    p.mac x18, x18, x18    
    p.mac x19, x19, x19    
    p.mac x20, x20, x20    
    p.mac x21, x21, x21    
    p.mac x22, x22, x22    
    p.mac x23, x23, x23    
    p.mac x24, x24, x24    
    p.mac x25, x25, x25    
    p.mac x26, x26, x26    
    p.mac x27, x27, x27    
    p.mac x28, x28, x28    
    p.mac x30, x30, x30    
    p.mac x31, x31, x31    


    ##- START -##

    ##- END -##

	// restore non-volatile registers
	la		t0, _STORAGE_POINTER_
    lw      ra, 0*4(t0)
    lw      sp, 1*4(t0)
    lw      gp, 2*4(t0)
    lw      tp, 3*4(t0)
    lw      s0, 4*4(t0)
    lw      s1, 5*4(t0)
    lw      a0, 6*4(t0)
    lw      a1, 7*4(t0)
    lw      a2, 8*4(t0)
    lw      a3, 9*4(t0)
    lw      a4, 10*4(t0)
    lw      a5, 11*4(t0)
    lw      a6, 12*4(t0)
    lw      a7, 13*4(t0)
    lw      s2, 14*4(t0)
    lw      s3, 15*4(t0)
    lw      s4, 16*4(t0)
    lw      s5, 17*4(t0)
    lw      s6, 18*4(t0)
    lw      s7, 19*4(t0)

    ret
